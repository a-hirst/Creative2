<!doctype html>
<html ng-app="myApp">
  <head>
    <title>Trip Planner</title>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script>
      $(document).ready(function() {
        $("#directionsButton").click(function(e) {
          var start = $("#startField").val();
          var end = $("#endField").val();
          e.preventDefault();
          var startStr = encodeURIComponent(start)
          var endStr = encodeURIComponent(end);
          $("#directionMap").attr("src", "https://www.google.com/maps/embed/v1/directions?origin="+startStr+"&destination="+endStr+"&key=AIzaSyDfkp9AI3-fOnspxkHA3XFCUgoLk_5Nnfs");
        
          // get directions
          var directionsURL = "https://maps.googleapis.com/maps/api/directions/json?origin="
          directionsURL += startStr;
          directionsURL += "&destination=";
          directionsURL += endStr;
          directionsURL += "&key=AIzaSyCQeWcc9-LdzhLaZk6zDI_t11-_VX63AKQ";
          console.log("directionsURL", directionsURL);
          
          $.ajax({
            url: directionsURL,
            crossDomain: true,
            dataType: "jsonp",
            success: function(data) {
              $("#directions").html = data;
              console.log("directions data", data);
            }
          });
        });
      });
    </script>
  </head>
  <body>
    <h1>Creative Project 2</h1>
    <form>
      Starting Location: <input type="text" id="startField" value=""><br>
      Destination: <input type="text" id="endField" value=""><br>
      <input id="directionsButton" type="submit" value="Submit">
    </form>
    <div>
      <div style="float: left; width: 500px" id="directions">
      </div>
      <iframe width="600" height="450" frameborder="0" style="border:0" id="directionMap"
              src="https://www.google.com/maps/embed/v1/directions?origin=Spanish%20Fork&destination=New%20York&key=AIzaSyDfkp9AI3-fOnspxkHA3XFCUgoLk_5Nnfs" 
              allowfullscreen></iframe>
    </div>
  </body>
</html>
